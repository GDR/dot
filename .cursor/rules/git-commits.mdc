---
description: Git commit conventions (ZeroMQ C4 with type prefixes)
globs: ["**/*.{nix,md}"]
alwaysApply: true
---

# Format
```
<type>: <short description>

- Detail 1
- Detail 2
```

Optional scope: `refactor(flake):`, `feat(zsh):`, `fix(devShell):`

# Types
- `feat:` - New feature
- `fix:` - Bug fix
- `refactor:` - Code restructuring (no behavior change)
- `docs:` - Documentation
- `chore:` - Maintenance/deps/tooling
- `style:` - Formatting/whitespace only
- `fmt:` - Code formatting (nixpkgs-fmt)

# Examples
```
refactor: move hyprland/awesomewm to home/desktop as user-choice modules

Move window managers from systems/linux/desktop/ to home/desktop/:
- hyprland/ and awesomewm/ are now user-enabled via hostUsers.modules
- Convert from mkSystemModuleV2 to mkModuleV2 with systemModule
- System config (xserver, greetd) in systemModule.nixosSystems
- User config (packages, dotfiles) via module and dotfiles params
- Update host config to use home.desktop.hyprland.enable
```

```
refactor(flake): simplify outputs function signature
```

# Rules
- First line: type + concise description (imperative mood), < 72 chars
- Optional scope: `type(scope):`
- Blank line after first line
- Body: bullet points with specific changes
- Be specific: what added/removed/changed
